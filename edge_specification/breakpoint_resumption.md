# 断点续传

EnOS™ Edge支持断点续传功能。当位于现场的Edge与云端网络中断时，Edge可以继续采集现场设备数据，并缓存于本地。当网络恢复时，将补传缓存于本地的历史数据。

Edge与云端之间有双向消息确认机制，确保Edge中收到的数据一定会发送到云端，从而保证网络中断情况下的数据完整性。

可根据需要采集的点数，点的数据类型，点的采样周期，需要缓存的时长来计算，并选配合适的硬盘规格来进行本地存储。

一天的数据量可按如下公式计算：

$$每天的数据量 = (总设备点数 \times 单点字节数) \times (24h \times 3600s/h \div 采样周期(s))$$

其中，单点字节数可以按25字节算。

## 计算示例

假设有100个设备，每个设备50个点，每个点及其相关属性共占有25字节，点的采样周期为5秒，每天24小时连续采集。假设选配64GB的硬盘；

则一天的数据量为：100\*50\*25\*24\*3600/5/1024/1024=2060MB；

64GB的硬盘本身需要预留系统空间，预留虚拟内存空间，以及其他各类空间。假设保证留出40GB供本地存储；

则可支持存储40\*1024/2060=20天数据。


.. note:: 实际处理中，由于缓存数据量很大后，会导致续传异常，因此推荐按照最大为4G的缓存空间估算。