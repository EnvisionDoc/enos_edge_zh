# 新建规约

管理员用户可以通过EnOS控制台提供的通信规约管理功能来管理EnOS Edge支持的通信规约，包括新增、查看、更新、发布、删除等操作；非管理员用户可以使用通信规约管理功能查看EnOS支持的各种规约。

## 任务描述

本文介绍了如何通过通信规约管理功能进行规约管理。

## 开始前准备

- 如需新增、更新、发布、删除规约，你需要获得该OU管理员权限。

## 新建规约

1. 选择 **Edge网关 > 通信规约**，点击 **新建规约**；

2. 在新建规约窗口填入以下信息：

   .. csv-table::
      :widths: auto

      "参数", "参数说明"
      "规约类型", "从EnOS预定义的规约中选择"
      "角色", "即当前规约程序的自定义名称"
      "名称", "规约的标识符"
      "程序包", "规约程序的bin文件"
      "描述", "/"
      "规约文档", "/"
      "配置模板文件", "上传与当前规约对应的通信相关配置参数的protocol.sys模板"
      "点表模板文件", "与当前规约对应的点表模板point.csv"

   .. image:: ../../media/edge_protocol_create.png

3. 点击 **保存**，完成新规约的创建，用户可在通信规约页的列表中查看新增的规约。

## 发布规约

对于版本号带有debug状态的规约，可以点击操作栏的**发布**按钮以发布该规约。发布之后debug状态会变为release状态，不可编辑。

## 结果

新增规约按照 *规约类型* - *角色* - *规约名称* 的方式显示，例如如果你新建了一个BACnet类型的客户端规约，名称是“bacnet_test_renbin”，则创建成功之后的规约名称为“BACnet-Client-bacnet_test_renbin”。

新增规约的默认版本为v1.0_debug。规约的版本命名遵循如下规范：

v*主版本号*.*修订版本号*_发布状态

.. csv-table::
       
   "字段", "说明"
   "主版本号", "表示有新增功能的版本。取值为数字，从1开始，当有新增功能时，主版本号加1。例如原规约版本是v1.0_release，则当新版本有新增功能时，则应修改主版本号，变成v2.0_release"
   "修订版本号", "用于标识有问题修复。取值为数字，从0开始，当有问题修复时，主版本号不变，修订版本号加1。例如原规约版本是v1.0_release，则当新版本只包含问题修复，而无新增功能时，则应修改修订版本号，变成v1.1_release"
   "发布状态", "用于标识发布状态，取值包括_debug或_release。dubug状态的规约，通常为刚上线的内测版规约程序，允许规约管理者替换规约文件；而release状态的规约是正式发布的规约，将被锁定，只可使用、查看和下载，不可修改"

<!--End-->

## 下一步操作

用户可以对新建的规约进行管理，参见[管理规约](managing_protocol)。








